!function(){angular.module("qudini.QueueApp",[])}(),function(){angular.module("qudini.QueueApp").directive("customer",["$http","$interval",function(e,t){return{restrict:"E",scope:{customer:"=",onRemoved:"&",onServed:"&"},templateUrl:"/components/customer/customer.html",link:function(n){var o=function(){n.isServed="served"===n.customer.status},u=function(){var e=new Date(new Date-new Date(n.customer.joinedTime.toString()));n.days=e.getUTCDate()-1,n.hours=e.getUTCHours(),n.minutes=e.getUTCMinutes(),n.seconds=e.getUTCSeconds()};o(),u(),t(u,1e3),n.queuedTime=new Date-new Date(n.customer.joinedTime),n.remove=function(){e({method:"DELETE",url:"/api/customer/remove",params:{id:n.customer.id}}).then(function(e){n.onRemoved()()})},n.serve=function(){e({method:"POST",url:"/api/customer/serve",data:{id:n.customer.id}}).then(function(e){n.onServed()()})}}}}])}(),function(){angular.module("qudini.QueueApp").directive("addCustomer",["$http",function(e){return{restrict:"E",scope:{onAdded:"&"},templateUrl:"/components/add-customer/add-customer.html",link:function(t){t.products=[{name:"Grammatical advice"},{name:"Magnifying glass repair"},{name:"Cryptography advice"}],t.add=function(){e({method:"POST",url:"/api/customer/add",data:t.customer}).then(function(e){t.onAdded()(),t.customer={}})}}}}])}(),function(){angular.module("qudini.QueueApp").controller("QueueController",["$scope","$http",function(e,t){function n(){return t.get("/api/customers/served").then(function(t){e.customersServed=t.data})}function o(){return t.get("/api/customers").then(function(t){e.customers=t.data})}e.customers=[],e.customersServed=[],o(),n(),e.onCustomerAdded=function(){o()},e.onCustomerRemoved=function(){o()},e.onCustomerServed=function(){o(),n()}}])}();